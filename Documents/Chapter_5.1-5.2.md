![image](https://github.com/TwoPair/Blockchain_Study/assets/39588815/dfd71f57-e2b5-4f16-be10-d63f802fadb9)# Chapter 5: 보안과 프라이버시

이번 장은 3장에서 다루었던 신뢰에 이어, 시스템의 무결성에 기여하는 아이덴티티, 보안, 프라이버시 문제를 다루어 보는 것이다. 암호학에 대해 알아봄으로써 암호학이 탈중앙화 참여자를 위한 아이덴티티로 쓸 수 있는 어카운트 주소를 만들어내는 핵심적인 역할을 한다는 것을 이해한다. 그다음 해싱 기법을 탐구한다.

스마트 컨트랙트를 새로운 도구인 **롭스텐**이라 불리는 퍼블릭 테스트 체인에 어떻게 배포하는지 알아본다. 이는 실제 프로덕션 체인, 즉 이더리움 메인넷에 론칭하기 전에 점진적으로 나아가는 첫 번째 단계다. 퍼블릭 체인을 소개하는 이유는 퍼블릭 체인에 배포할 때 프라이버시와 보안이 얼마나 중요한지를 강조하기 위함이다.

<br>

## 5.1 암호학 기초

일상 프로그래밍 프로젝트에서의 보안 -> 묵시적

탈중앙화 블록체인 기반 솔루션에서의 암호학 -> 필수 불가결하고 명시적

- 참여자와 다른 엔티티를 위한 디지털 아이덴티티를 생성
- 데이터와 트랜잭션의 보안 보장
- 데이터의 프라이버시를 확립
- 문서에 디지털 서명을 함

### 5.1.1 대칭키 암호학

결론부터 말하면 **대칭키 암호학은 탈중앙화 애플리케이션에 적합하지 않다.**

암호화 후 이를 푸는 과정에 필요한 것이 '키'인데 이를 어떻게 참여자에게 비밀리에 전달할 수 있는가의 문제가 있다. 알지 못하는 참여자들까지 고려해야하는 탈중앙화 블록체인에서는 심각한 문제가 발생할 수 있다.

### 5.1.2 비대칭키 암호학

따라서 비대칭키 암호학(asymmetric key cryptography), 다른 말로 공개키 암호학(public key cryptography)을 사용한다.

- 각 참여자는 자신의 공개키를 오픈하고, 개인키는 암호를 사용해 안전하게 별도로 보관한다.
- 각 참여자는 상대편의 공개키를 이용해 메시지를 암호화하고, 상대편은 자신의 개인키를 사용해 암호화된 메시지를 해독한다. 여기서 오직 개인키를 가진 사람만이 이 메시지를 해독할 수 있다.

![비대칭키 암호학 그림](https://github.com/TwoPair/Blockchain_Study/assets/39588815/2c645f6d-5712-48a9-bf9e-c2ed5ac10323)

암호화하는 키와 해독하는 키는 동일하지 않기 때문에 이 방법은 "비대칭적"이라고 할 수 있다. 키 배포 문제도 누구나 쓸 수 있도록 공개키를 배포하되, 개인키는 안전하게 보관하면 된다.

<br>

## 5.2 블록체인을 위한 공개키 암호학의 유용성

공개키 암호학은 어카운트 주소 생성에서부터 트랜잭션 사인에 이르기까지 블록체인의 여러가지 오퍼레이션에 사용된다.

### 5.2.1 이더리움 주소 생성하기

[이더리움의 두 가지 유형의 어카운트]
1. EOA: 외부 소유자 어카운트
2. SCA: 스마트 컨트랙트 어카운트

[이더리움의 어카운트 주소 생성시 공개키-비공개키 쌍 기반 메커니즘]
1. 256비트 난수 생성하여 이것을 개인키로 설정.
2. **타원 곡선 암호학 알고리즘(elliptic curve cryptography algorithm)** 이라는 특수한 알고리즘을 개인키에 적용해서 고유한 공개키를 추출. 이 두 키는 {개인키, 공개키} 키 쌍을 이루는데, 개인키는 패스워드로 보호를 받고, 공개키는 외부에 공개.
3. 해시 함수인 RIPEMD160을 공개키에 적용해서 어카운트 주소를 얻는다.
   - 이 주소는 공개키보다 짧은 160비트, 즉 20바이트다. 이 주소가 리믹스와 가나쉬 환경에서 볼 수 있는 어카운트 넘버이며, 퍼블릭 블록체인 네트워크에서 주소로 쓰인다. 5.2.3절에서 여기에 대해 더 살펴볼 것이다.
   - 주소는 읽기 쉽도록 16진수로 표시.
  
EOA 주소를 사용해 스마트 컨트랙트에 메시지를 보내고, 블록체인 위에 이더와 트랜잭션을 저장한다.

### 5.2.2 트랜잭션 사인

암호학적 키 쌍은 트랜잭션을 사인하기 위해서도 사용한다. 허가와 인증을 위한 디지털 서명을 생성하는 프로세스에 개인키를 이용한다.

따라서 암호화하는 기능 이외에 암호학의 두 가지 기능은 어카운트 주소를 생성하고(탈중앙화된 참여자와 엔티티의 아이덴티티), 트랜잭션과 메시지에 디지털 서명을 하는 것이다.

### 5.2.3 롭스텐에 스마트 컨트랙트 배포하기

