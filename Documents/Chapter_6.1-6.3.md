# Chapter 6. 온체인과 오프체인 데이터

일반적으로 블록체인상에 저장하는 모든 데이터는 온체인 데이터이고, 그 이외의 것은 오프체인 데이터다.

> 💡 **온체인 데이터(on-chain data)란?**<br>
> 블록체인 기반 애플리케이션이 구동한 트랜잭션이 생생한 정보와 블록체인의 구축(materialization)에 쓰인 아이템의 집합이다.


## 6.1 온체인 데이터

**이더리움 프로토콜이 가진 요소들**
- 블록체인 헤더(6A)는 블록의 속송을 저장한다.
- 트랜잭션(6B)은 블록에 저장된 Tx의 내용을 저장한다.
- 리시트(6C)는 블록에 기록된 Tx의 실행 결과를 저장한다. 모든 트랜잭션은 리시트를 가지고 있고, 그림 6.2는 이 일대일 관계를 보여준다.
- 총합 글로벌 스테이트(6D)는 모든 블록체인상의 스마트 컨트랙트와 다른 일반 어카운트의 데이터값 또는 현재 스테이트를 저장하고, 이것을 이용하는 Tx를 컴펌할 때 갱신한다.

![KakaoTalk_20230807_141149402](https://github.com/TwoPair/Blockchain_Study/assets/101495241/a43d6aee-b9a1-428f-bdb4-8c3b1ebadfc3)

위 그림에서 볼 수 있듯 6A 가 6B, 6C, 6D의 해시를 모두 포함한다.  

또한 블록 헤더, Tx 트리, 리시트 트리는 블록 단위 데이터 구조이며, *새로운 블록을 추가할 때마다 새로운 블록 헤더, Tx 트리, 리시트 집합의 인스턴트를 생성*한다.  
그에 반해 스테이트 트리는 블록체인 단위 구조이다. 스테이트 트리는 블록체인에 어떤것이 어떻게 일어났는지에 대한 히스토리 전체를 기록한다. 이 스테이트는 *Tx를 실행할 때마다 계속 변한다.*


## 6.2 블라인드 경매 유스 케이스
